{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9bba7f96a19030a19211","webpack:///./src/graflow.js","webpack:///./src/component.js","webpack:///./src/components/map.js","webpack:///./src/components/filter.js","webpack:///./src/components/count.js","webpack:///./src/components/accumulate.js","webpack:///./src/components/mux.js","webpack:///./src/components/demux.js","webpack:///./src/components/iterateOnce.js","webpack:///./src/components/iterateAll.js","webpack:///./src/components/repeat.js","webpack:///./src/components/uniq.js","webpack:///./src/components/debug.js","webpack:///./src/components/log.js","webpack:///./src/components/chain.js","webpack:///./src/components/check.js","webpack:///./src/components/guard.js","webpack:///./src/components/id.js","webpack:///./src/components/delay.js","webpack:///./src/components/periodic.js"],"names":["default","connect","compOut","compIn","match","Object","keys","forEach","inName","outName","output","outputs","input","inputs","undefined","toComponent","arg","node","toNode","start","v","received","in","out","result","queue","listeners","next","l","addToQueue","processQueue","obj","addListener","listener","push","on","send","values","length","i","shift","onNext","select","name","components","io","direction","split","componentName","streamName","ioStreams","component","ioNames","component2","connections","key","inNodes","reduce","acc","outNodes","from","to","streamOut","streamIn","stringsToObj","strings","stream","comp","initialValues","map","f","filter","cond","count","initial","value","accumulate","entries","k","mux","args","Array","every","flatMap","concat","apply","demux","iterateOnce","iterator","iterable","Symbol","done","iterateAll","repeat","times","uniq","lastValue","initialValue","debug","msg","log","console","print","chain","lastIndex","first","last","check","true","false","guard","conds","others","id","delay","setTimeout","ms","periodic","setInterval"],"mappings":"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","file":"graflow.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"graflow\"] = factory();\n\telse\n\t\troot[\"graflow\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9bba7f96a19030a19211\n **/","export {default} from './component'\n\nexport {default as component} from './component'\nexport {default as map} from './components/map'\nexport {default as filter} from './components/filter'\nexport {default as count} from './components/count'\nexport {default as accumulate} from './components/accumulate'\nexport {default as mux} from './components/mux'\nexport {default as demux} from './components/demux'\nexport {default as iterateOnce} from './components/iterateOnce'\nexport {default as iterateAll} from './components/iterateAll'\nexport {default as repeat} from './components/repeat'\nexport {default as uniq} from './components/uniq'\nexport {default as debug} from './components/debug'\nexport {default as log} from './components/log'\nexport {default as chain} from './components/chain'\nexport {default as check} from './components/check'\nexport {default as guard} from './components/guard'\nexport {default as id} from './components/id'\nexport {default as delay} from './components/delay'\nexport {default as periodic} from './components/periodic'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/graflow.js\n **/","const connect = (compOut, compIn, match = {default: 'default'}) => {\n  Object.keys(match).forEach(outName => {\n    let inName = match[outName]\n    let output = compOut.outputs[outName]\n    let input  = compIn.inputs[inName]\n\n    if(output !== undefined && input !== undefined) {\n      output.connect(input)\n    }\n  })\n}\n\nconst toComponent = arg => {\n  if(typeof arg === 'object') return arg\n  let node = toNode(arg)\n  return {\n    start: (v={}) => node.received(v)\n    , inputs:  { default: node }\n    , outputs: { default: node }\n    , in:  { default: node }\n    , out: { default: node }\n  }\n}\n\nconst toNode = arg => {\n  let result = arg\n  if(typeof arg === 'function') {\n    result = node(arg)\n  }\n  return result\n}\n\nconst node = onNext => {\n  const queue = []\n  const listeners = []\n  const next = v => {\n    listeners.forEach(l => l.addToQueue(v))\n    listeners.forEach(l => l.processQueue())\n  }\n\n  const obj = {\n    addListener(listener) { listeners.push(toNode(listener)) }\n    , on(listener) { obj.addListener(listener) }\n    , connect(listener) { obj.addListener(listener) }\n    , addToQueue(v) { queue.push(v) }\n    , received(v={}) {\n      obj.addToQueue(v)\n      obj.processQueue()\n    }\n    , send(v={}) { obj.received(v) }\n    , processQueue() {\n      const values = queue.length\n      for(let i=1; i<=values; i++) {\n        let v = queue.shift()\n        onNext(v, next)\n      }\n    }\n  }\n\n  return obj\n}\n\nconst select = (name, components, io = 'input') => {\n  const direction = io === 'input' ? 'inputs' : 'outputs'\n  let [componentName, streamName] = name.split('.', 2)\n  let ioStreams\n  const component = components[componentName]\n\n  if(component !== undefined) {\n    ioStreams = component[direction]\n    if(ioStreams !== undefined && streamName === undefined) {\n      const ioNames = Object.keys(ioStreams)\n      if(ioNames.length === 1) streamName = ioNames[0]\n    }\n  }\n\n  if(ioStreams === undefined || ioStreams[streamName] === undefined) {\n    throw `${io} stream ${name} not found!`\n  }\n\n  return ioStreams[streamName]\n}\n\nconst component2 = ({components,\n  connections=[], inputs=['default'], outputs = ['default']}) => {\n  Object.keys(components).forEach(key => {\n    components[key] = toComponent(components[key])\n  })\n\n  const inNodes = inputs.reduce((acc, i) => {\n    acc[i] = node((v, next) => next(v))\n    return acc\n  }, {})\n\n  const outNodes = outputs.reduce((acc, i) => {\n    acc[i] = node((v, next) => next(v))\n    return acc\n  }, {})\n\n  components.in = { inputs: inNodes, outputs: inNodes }\n  components.out = { inputs: outNodes, outputs: outNodes }\n\n  connections.forEach(([from, to]) => {\n    let streamOut = select(from, components, 'output')\n    let streamIn  = select(to, components, 'input')\n\n    streamOut.addListener(streamIn)\n  })\n\n  const stringsToObj = (strings, components, direction) => strings.reduce((acc, name) => {\n    let stream = components[name][direction].default\n    acc[name] = stream\n    if(strings.length == 1) {\n      acc.default = stream\n    }\n    return acc\n  }, {})\n\n  const comp = {\n    start: (initialValues = {default: {}}) => {\n      if(typeof initialValues !== 'object') {\n        initialValues = {default: initialValues}\n      }\n      for(let key in initialValues) {\n        comp.inputs[key].received(initialValues[key])\n      }\n    }\n    , inputs: inNodes\n    , outputs: outNodes\n    , in: inNodes\n    , out: outNodes\n  }\n\n  return comp\n}\n\nconst component = arg => {\n  if(typeof arg === 'function')\n    return toComponent(arg)\n  else\n    return component2(arg)\n}\n\nexport default component\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/component.js\n **/","import component from '../component'\n\nconst map = f => component((v,next) => next(f(v)) )\n\nexport default map\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/map.js\n **/","import component from '../component'\n\nconst filter = cond => component((v, next) => { if(cond(v)) next(v) })\n\nexport default filter\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/filter.js\n **/","import component from '../component'\n\nconst count = (initial=0) => {\n  let value = initial\n  return component((v, next) => {\n    value++\n    next(value)\n  })\n}\n\nexport default count\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/count.js\n **/","import component from '../component'\n\nconst accumulate = (initial={}) => {\n  let obj = initial\n  return component((v, next) => {\n    if(typeof v !== 'object') return\n    Object.entries(v).forEach(([k,v]) => obj[k] = v)\n    next(obj)\n  })\n}\n\nexport default accumulate\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/accumulate.js\n **/","import component from '../component'\nimport map from './map'\nimport filter from './filter'\nimport accumulate from './accumulate'\n\nconst mux = (...args) => {\n  let inputs\n  if(args[0] instanceof Array)\n    inputs = args[0]\n  else\n    inputs = args\n\n  let components = {}\n  let connections = []\n\n  inputs.forEach(i => {\n    components[i] = map(v => ({[i]: v}))\n    connections.push(['in.' + i, i], [i, 'acc'])\n  })\n\n  components.acc = accumulate()\n  components.filter = filter((v => inputs.every(i => v[i] !== undefined) ))\n\n  connections.push(['acc', 'filter'], ['filter', 'out.default'])\n\n  return component({components, connections, inputs})\n}\n\nexport default mux\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/mux.js\n **/","import component from '../component'\n\nconst flatMap = v => [].concat.apply([], v)\n\nconst demux = (...args) => {\n  let outputs\n  if(args[0] instanceof Array)\n    outputs = args[0]\n  else\n    outputs = args\n\n  return component({\n    components: outputs.reduce((acc, output) => {\n      acc[output] = component((v, next) => {\n        if(v[output] !== undefined) next(v[output])\n      })\n      return acc\n    }, {})\n    , outputs\n    , connections: flatMap(\n      outputs.map(out => [['in.default', out], [out, 'out.' + out]])\n    )\n  })\n}\n\nexport default demux\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/demux.js\n **/","import component from '../component'\n\nconst iterateOnce = iterable => {\n  const iterator = iterable[Symbol.iterator]()\n\n  return component((v, next) => {\n    const {value, done} = iterator.next()\n    if(!done) next(value)\n  })\n}\n\nexport default iterateOnce\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/iterateOnce.js\n **/","import component from '../component'\n\nconst iterateAll = iterable => component((v, next) => {\n  for(let i of iterable) next(i)\n})\n\nexport default iterateAll\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/iterateAll.js\n **/","import component from '../component'\n\nconst repeat = (times=1) => component((v, next) => {\n  for(let i=1; i<=times; i++) next(v)\n})\n\nexport default repeat\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/repeat.js\n **/","import component from '../component'\n\nconst uniq = initialValue => {\n  let lastValue = initialValue\n  return component((v, next) => {\n    if(v !== lastValue) {\n      lastValue = v\n      next(v)\n    }\n  })\n}\n\nexport default uniq\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/uniq.js\n **/","import component from '../component'\n\nconst debug = (msg, log = console.log) => component((v, next) => {\n  log(msg, v)\n  next(v)\n})\n\nexport default debug\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/debug.js\n **/","import component from '../component'\n\nconst log = (print = console.log) => component(v => print(v))\n\nexport default log\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/log.js\n **/","import component from '../component'\n\nconst chain = (...args) => {\n  const lastIndex = args.length - 1\n  const [first, last] = [args[0], args[lastIndex]]\n\n  const components = args.reduce((obj, v, i) => ({...obj, [`c${i}`]: v}), {})\n\n  const inputs  = Object.keys(first.inputs)\n  const outputs = Object.keys(last.outputs)\n\n  const connections = [...Array(lastIndex).keys()]\n    .map(i => [`c${i}`, `c${i+1}`])\n    .concat(inputs.map(input => [`in.${input}`, `c0.${input}`]))\n    .concat(outputs.map(output => [`c${lastIndex}.${output}`, `out.${output}`]))\n\n  return component({components, connections, inputs, outputs})\n}\n\nexport default chain\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/chain.js\n **/","import chain from './chain'\nimport map from './map'\nimport demux from './demux'\n\nconst check = cond => chain(\n  map(v => {\n    if(cond(v))\n      return {true: v}\n    else\n      return {false: v}\n  })\n  , demux('true', 'false')\n)\n\nexport default check\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/check.js\n **/","import component from '../component'\nimport chain from './chain'\nimport demux from './demux'\n\nconst guard = conds => chain(\n  component((v, next) => {\n    Object.entries(conds).forEach(([name, cond]) => {\n      let others = []\n      let match = false\n\n      if(cond === 'otherwise') {\n        others.push(name)\n      } else if(typeof cond === 'function' && cond(v)) {\n        next({[name]: v})\n        match = true\n      }\n\n      if(!match) others.forEach(name => next({[name]: v}))\n    })\n  })\n  , demux(...Object.keys(conds))\n)\n\nexport default guard\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/guard.js\n **/","import map from './map'\n\nconst id = () => map(v => v)\n\nexport default id\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/id.js\n **/","import component from '../component'\n\nconst delay = ms => component((v, next) => {\n  setTimeout(() => next(v), ms)\n})\n\nexport default delay\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/delay.js\n **/","import component from '../component'\n\nconst periodic = (ms, value={}) => component((v, next) => {\n  setInterval(() => next(value), ms)\n})\n\nexport default periodic\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/periodic.js\n **/"],"sourceRoot":""}